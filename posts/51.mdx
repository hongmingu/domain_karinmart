---
title: Go의 인터페이스와 다형성
description: 'Go언어의 인터페이스와 다형성에 대해 알아보자'
date: August 3 2023
---

Go 언어에서 인터페이스와 다형성은 중요한 개념이며 코드의 유연성과 재사용성을 높이는 데 주요한 역할을 한다.

## 인터페이스란?
Go 언어에서 인터페이스는 메서드 집합으로 정의된다. 
어떤 타입이 특정 인터페이스의 메서드를 모두 구현하면 그 타입은 해당 인터페이스를 구현한 것이라고 한다.

### 인터페이스의 예시
```
type Speaker interface {
    Speak() string
}
```
이 인터페이스는 하나의 메서드 Speak를 선언하고 있으며 이를 구현하는 모든 타입은 Speaker 인터페이스를 만족한다.

### 인터페이스의 정의 및 구현
Go에서 인터페이스는 메서드 시그니처의 집합으로 타입이 특정 행동을 제공한다는 계약을 정의한다. 
타입은 인터페이스를 명시적으로 상속받거나 선언할 필요 없이 해당 인터페이스의 모든 메서드를 구현하면 된다.
```
interface{}
```
빈 인터페이스는 메서드를 전혀 가지고 있지 않으며 어떤 타입과도 호환된다. 
이를 통해 일반적인 타입을 다룰 수 있게 된다.


### 다형성의 예시
```
type Dog struct{}

func (d Dog) Speak() string {
    return "Woof!"
}

type Cat struct{}

func (c Cat) Speak() string {
    return "Meow!"
}

func AnimalSound(s Speaker) string {
    return s.Speak()
}

func main() {
    var d Dog
    var c Cat
    fmt.Println(AnimalSound(d)) // 출력 Woof!
    fmt.Println(AnimalSound(c)) // 출력 Meow!
}
```
Dog과 Cat 구조체는 모두 Speak 메서드를 구현하므로 Speaker 인터페이스를 만족한다.
 AnimalSound 함수는 Speaker 인터페이스 타입의 파라미터를 받아 실제로 어떤 구조체를 전달받는지와 관계없이 Speak 메서드를 호출한다.


### 다형성
다형성은 객체 지향 프로그래밍의 핵심 원칙 중 하나로 코드의 유연성과 재사용성을 높이는데 중요한 역할을 한다.

#### 인터페이스로의 타입 변환
Go에서는 인터페이스 타입으로의 변환을 통해 동일한 인터페이스를 만족하는 다른 타입의 객체를 동일한 방식으로 다룰 수 있다.
```
func PrintArea(shapes ...Shape) {
    for _ s = range shapes {
        fmt.Println(s.Area())
    }
}
```
Shape 인터페이스를 만족하는 여러 타입을 PrintArea 함수에 전달할 수 있으며 이를 통해 다형성을 실현한다.

### 다형성의 장점
#### 코드 재사용 
인터페이스를 사용하면 코드를 일반화하여 다양한 타입에서 재사용할 수 있다.
#### 유연성 
인터페이스를 통해 함수가 특정 타입에 의존하지 않도록 만들 수 있으며 따라서 코드 변경에 대한 유연성이 증가한다.
#### 테스트 용이성 
인터페이스를 활용하면 실제 구현을 모의 객체로 쉽게 대체할 수 있어 테스트가 더 쉬워진다.

Go에서 인터페이스와 다형성은 코드 설계와 구조를 개선하는 강력한 도구이다. 
인터페이스를 통해 코드의 결합도를 낮추고 재사용성을 높이며 테스트와 유지보수를 용이하게 할 수 있다.


## 인터페이스의 활용
인터페이스는 코드의 설계를 개선하고 변경에 대한 유연성을 제공한다.

### 의존성 역전
인터페이스를 사용하면 구체적인 구현에서 추상화로 의존성의 방향을 역전시킬 수 있다. 이를 통해 모듈 간의 결합을 줄이고 확장성을 높일 수 있다.

### 테스트 용이성
인터페이스를 활용하면 테스트 중 모의 객체로 대체하기 쉽다. 이로써 테스트의 복잡성을 줄이고 격리된 환경에서 테스트를 수행할 수 있게 된다.

Go에서 인터페이스와 다형성은 코드의 유연성 확장성 재사용성을 높이는 핵심 요소이다.
인터페이스를 통해 다양한 타입을 일관되게 다룰 수 있으며 시스템의 각 부분을 느슨하게 결합하여 유지보수와 테스트를 용이하게 할 수 있다.