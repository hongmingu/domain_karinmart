---
title: ZSH 초스피드 강의5 zshrc파일 사용법 환경변수 프롬프트 스타일링
description: 'ZSH의 zshrc파일 설명 및 환경변수와 프롬프트 스타일링에 대해 알아보자'
date: August 11 2023
---
이번엔 Zsh의 .zshrc 사용법에 대해 알아보자. 

## .zshrc 파일 구조와 작성법
.zshrc는 Zsh 셸이 시작될 때 자동으로 실행되는 설정 파일이다. 이 파일을 통해 환경 변수를 설정하거나, Zsh의 외형과 기능을 사용자화할 수 있다.

### 작성법

텍스트 편집기(예: nano, vim, code 등)를 사용하여 .zshrc 파일을 열어 편집한다.
필요한 설정과 명령어를 추가한다.
파일을 저장하고 닫다.
변경 사항을 적용하기 위해 셸을 재시작하거나 source ~/.zshrc 명령어를 입력한다.



### 환경 변수 설정하기
.zshrc에서 환경 변수를 설정하는 것은 매우 간단한다. 다음과 같은 형식을 사용한다
```
export VARIABLE_NAME="value"
```

### zshrc파일에서 설정할 수 있는 내용들
zshrc 파일에선 크게 네가지 기능을 수행할 수 있다.
#### 환경 설정
PATH 환경 변수나 기타 환경 변수 설정
#### 프롬프트 설정
사용자의 쉘 프롬프트 양식 및 스타일 설정
#### 플러그인 및 테마 설정
Oh My Zsh 같은 프레임워크를 사용할 경우
#### 별칭(alias) 설정
자주 사용하는 명령어의 단축어 설정

### 사용법 예시
```
export PATH="$PATH:/usr/local/bin"
export EDITOR="vim"
```
### Zsh 시작시 자동 실행 스크립트 설정하기
Zsh를 시작할 때 특정 스크립트나 명령어를 자동으로 실행하고 싶다면 .zshrc 파일에 해당 명령어나 스크립트 경로를 추가한다.

#### 사용법 예시(.zshrc파일에 다음 라인 입력)
```
# Zsh 시작시 neofetch 실행
neofetch
```

### 환경 변수 설정하기
환경 변수는 OS 또는 쉘 세션 동안 사용할 수 있는 변수이다.

```
# JAVA 환경 설정
export JAVA_HOME=/usr/lib/jvm/java-8-oracle
```

### Zsh 시작시 자동 실행 스크립트 설정하기
Zsh 시작시 자동으로 실행되게 만들고 싶은 스크립트나 명령어들을 .zshrc에 추가하면 된다.

```
# Zsh 시작할 때마다 오늘 날짜 출력
echo "Today is $(date +"%Y-%m-%d")"
```
이렇게 하면 터미널 킬 때마다 저게 나온다.


### 명령어 프롬프트 커스터마이징
Zsh의 프롬프트는 PROMPT 변수를 통해 커스터마이징할 수 있다.

### 프롬프트 스타일 변경하기

프롬프트의 스타일과 색상을 변경하려면 다음과 같은 특수 코드를 사용한다
```
PROMPT='%F{red}%n%F{blue}@%m %F{yellow}%~%f$ '
```
여기서 %F{color}는 글자 색상을 설정하고, %f는 기본 색상으로 돌아갑니다.

### Git 상태, 가상 환경 정보 등을 조작하기 위한 동적 프롬프트 변경

vcs_info 함수를 사용하면 현재 디렉토리의 Git 상태를 프롬프트에 표시할 수 있다
```
autoload -Uz vcs_info
precmd() { vcs_info }
PROMPT='%F{green}%n@%m %F{yellow}%~%f $vcs_info_msg_0_ '
```


## 추가내용


### source 명령어란?
Zsh와 같은 쉘 환경에서, 환경 변수나 쉘 설정을 변경하면 그 변경사항은 즉시 적용되지 않다. 변경한 설정을 적용하기 위해선 두 가지 방법이 주로 사용된다.

#### 셸을 재시작하기
이 방법은 말 그대로 현재 사용 중인 셸 환경을 종료하고 다시 시작하는 것이다. 새로운 세션에서는 변경된 .zshrc 설정이 로드되므로 적용된다.

터미널이나 콘솔에서 현재의 셸 세션을 종료하고 다시 연다.
새로운 세션에서는 최근에 변경된 설정이 로드되어 반영된다.
#### source 명령어 사용하기
source 명령어는 지정된 파일의 내용을 현재 셸에서 실행한다. 따라서 .zshrc 파일에 변경사항이 있을 경우 이 명령어를 이용하면 파일의 내용을 다시 읽어서 현재 셸에 적용할 수 있다.

source ~/.zshrc는 홈 디렉터리의 .zshrc 파일의 내용을 현재 셸에서 실행하는 것을 의미한다.
source 명령어를 사용하면 셸을 재시작하지 않아도 변경사항을 즉시 반영할 수 있다.
#### 사용법

변경사항을 적용하고 싶을 때 터미널에 이런 명령어를 사용하면 된다.
```
source ~/.zshrc
```
이 방법은 특히 자주 설정을 변경하거나 특정 설정을 테스트할 때 유용하게 사용된다. 셸을 매번 재시작하는 것은 번거롭기 때문에 source 명령어로 빠르게 처리하면 편리하다.