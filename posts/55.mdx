---
title: perl Moose 프레임워크 튜토리얼1 클래스와 속성
description: 'Perl 객체 지향 프로그래밍을 위한 Moose 강의 첫 번째 클래스와 속성'
date: August 7 2023
---
## Moose란?
Moose는 Perl에서 객체 지향 프로그래밍을 수행하기 위한 프레임워크이다. 
여기에는 클래스, 역할, 타입 시스템 등과 같은 객체 지향 프로그래밍의 고급 기능을 지원한다. 
이러한 기능을 이용하면 코드를 더욱 단순화하고 유지 관리하기 쉽게 만들 수 있다.

## Moose 설치
```
cpan Moose
```

cpan을 통해 Moose를 설치하자.

### cpan이란?
CPAN(Comprehensive Perl Archive Network)은 Perl 프로그래밍 언어를 위한 저장소이다. 
CPAN은 많은 Perl 모듈, 스크립트, 확장 기능, 문서를 포함하고 있다.

CPAN은 주로 Perl 모듈의 공유와 재사용을 돕는다. 
이 저장소에는 수많은 Perl 모듈이 있으며, 이러한 모듈들은 다양한 작업을 단순화하거나 자동화하는 데 사용된다.

또한 CPAN은 Perl 모듈을 설치하기 위한 표준화된 도구도 제공한다. 
cpan이라는 명령어를 통해 사용자는 쉽게 필요한 모듈을 검색하고, 설치하고, 업데이트할 수 있다. 
cpan Moose 명령어를 실행하면 Moose 모듈을 CPAN으로부터 다운로드하고 설치할 수 있다.

python의 pip, node의 npm과 흡사한 역할이다.

## 클래스 정의
```
package Person;
use Moose;
```

Moose는 클래스를 생성하고, 속성과 메소드를 관리하며, 상속과 같은 고급 객체 지향 기능을 쉽게 구현할 수 있도록 도와준다.

위의 코드는 Person이라는 이름의 새 클래스를 정의한다. 
이 클래스는 아직 속성이나 메소드를 가지지 않지만 Moose를 사용함으로써 이를 추가할 수 있는 준비를 마친 상태이다.

```
package Person;
```
이라는 코드는 Person이라는 이름의 패키지(여기서는 클래스)를 정의하는 것이다. 
Perl에서 패키지는 코드의 이름 공간을 나타냅니다. 
이를 통해 코드가 다른 패키지의 함수나 변수와 충돌하지 않도록 보장한다.

```
use Moose;
```
라는 문장은 Moose 모듈을 불러오는 것이다. 
이는 Person 클래스가 Moose의 기능을 사용할 수 있도록 해준다. 
이 명령어를 사용하면 이 클래스는 자동적으로 Perl의 UNIVERSAL 클래스를 상속하며
Moose::Object의 모든 메소드를 사용할 수 있게 된다.



## 속성 정의

Moose에서는 'has' 키워드를 이용하여 속성을 정의한다. 
각 속성에는 이름, 타입, 읽기 전용 여부, 기본값 등을 설정할 수 있다.

```
has 'name' => (is => 'rw', isa => 'Str');
has 'age' => (is => 'rw', isa => 'Int');
```

has 키워드 뒤에는 속성의 이름이 따라오며 이 이름은 이후에 이 속성을 참조하는 데 사용된다. 
이어서 속성에 대한 메타데이터를 설정하는 괄호 안의 내용이 온다. 
메타데이터에는 다음과 같은 것들이 포함될 수 있다.

##### is
속성이 읽기 전용(ro)인지 읽기/쓰기 둘 다 가능(rw)인지를 설정한다. 읽기 전용 속성은 한 번 설정되면 변경할 수 없다.
##### isa
속성의 데이터 타입을 설정한다. Moose는 다양한 내장 데이터 타입을 제공하며 사용자 정의 데이터 타입을 생성할 수도 있다.
##### default
속성의 기본값을 설정한다. 객체가 생성될 때 이 속성이 명시적으로 설정되지 않으면 이 기본값이 사용된다.

'name'이라는 속성을 가진 Person 클래스를 정의해보자

```
package Person;
use Moose;

has 'name' => (
    is      => 'rw',
    isa     => 'Str',
    default => 'Unnamed',
);
```
이 코드는 Person 클래스에 name이라는 속성을 추가한다. 
이 속성은 문자열(Str)이며 읽기/쓰기(rw)가 모두 가능하다. 
만약 이 속성이 설정되지 않으면 기본값으로 'Unnamed'가 사용된다.